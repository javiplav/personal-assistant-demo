# SPDX-FileCopyrightText: Copyright (c) 2025, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: Apache-2.0
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Personal Assistant Demo - Main Configuration
# Usage: nat run --config_file configs/config.yml --input "your query"

general:
  use_uvloop: true
  front_end:
    _type: fastapi

functions:
  # Core Time and Date Functions
  current_time:
    _type: personal_assistant/current_time
  
  current_date:
    _type: personal_assistant/current_date
    
  # Calculator Functions
  add_numbers:
    _type: personal_assistant/add_numbers
    
  subtract_numbers:
    _type: personal_assistant/subtract_numbers
    
  multiply_numbers:
    _type: personal_assistant/multiply_numbers
    
  divide_numbers:
    _type: personal_assistant/divide_numbers
    
  # Task Management Functions
  add_task:
    _type: personal_assistant/add_task
    
  list_tasks:
    _type: personal_assistant/list_tasks
    
  complete_task:
    _type: personal_assistant/complete_task

  # Enterprise Solutions Architect Tools
  schedule_meeting:
    _type: personal_assistant/schedule_meeting
  list_meetings:
    _type: personal_assistant/list_meetings
  cancel_meeting:
    _type: personal_assistant/cancel_meeting
  add_client:
    _type: personal_assistant/add_client
  list_clients:
    _type: personal_assistant/list_clients
  add_client_note:
    _type: personal_assistant/add_client_note
  get_client_details:
    _type: personal_assistant/get_client_details

# LLM Configuration - Using Nemotron 70B (optimized for tool calling)
llms:
  nvidia_llm:
    _type: nim
    model: nvidia/llama-3.1-nemotron-70b-instruct
    api_key: ${NVIDIA_API_KEY}
    base_url: https://integrate.api.nvidia.com/v1
    temperature: 0.0
    max_tokens: 500

# Workflow Configuration - Intelligent ReAct agent
workflow:
  _type: react_agent
  tool_names: 
    - current_time
    - current_date
    - add_numbers
    - subtract_numbers
    - multiply_numbers
    - divide_numbers
    - add_task
    - list_tasks
    - complete_task
    - schedule_meeting
    - list_meetings
    - cancel_meeting
    - add_client
    - list_clients
    - add_client_note
    - get_client_details
  llm_name: nvidia_llm
  verbose: true
  parse_agent_response_max_retries: 3
  max_tool_calls: 10
  recursion_limit: 50